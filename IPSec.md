**IPSec (Internet Protocol Security)** — это набор протоколов для защиты IP-сетей путем аутентификации и шифрования каждого IP-пакета в сессии. IPSec работает на сетевом уровне и обеспечивает защиту данных между двумя узлами.


# IKE Phase 1

**IKE (Internet Key Exchange) Phase 1** используется для аутентификации и установления защищенного канала между двумя сторонами. Этот этап включает следующие ключевые моменты:

- **Цели**: Установить защищенный канал для обмена ключами и аутентификации.
- **Методы аутентификации**: Используются различные методы, включая предустановленные ключи, сертификаты и аутентификацию по паролю (PSK).
- **Режимы**:
    - **Main Mode**: Более защищенный режим, использующий 6 сообщений для завершения аутентификации.
    - **Aggressive Mode**: Более быстрый, использующий 3 сообщения, но менее безопасный.

# IKE Phase 2

**IKE Phase 2** используется для установки и управления защищенными соединениями для передачи данных. Этот этап включает:

- **Цели**: Установить параметры безопасности для IPSec-соединения.
- **Протоколы**: Используются протоколы ESP (Encapsulating Security Payload) и AH (Authentication Header).
- **Механизмы**: Установление параметров шифрования и аутентификации, а также обмен ключами для сеансовой безопасности.

# Протоколы фреймворка IPSec

Основные протоколы IPSec включают:

1. **AH (Authentication Header)**: Обеспечивает аутентификацию и целостность данных, но не шифрует их.
2. **ESP (Encapsulating Security Payload)**: Обеспечивает как шифрование, так и аутентификацию, что делает его более распространенным выбором для защиты данных.
3. **IKE (Internet Key Exchange)**: Протокол для обмена ключами и управления безопасностью.

